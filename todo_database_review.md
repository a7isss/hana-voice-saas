# Database Review and Migration Task List

## Code Review and Database Requirements Analysis
- [ ] Review all API endpoints for database dependencies
- [ ] Analyze Next.js API routes in src/app/api/
- [ ] Review Python voice service database calls
- [ ] Check authentication endpoints and user management
- [ ] Review campaign and survey management endpoints
- [ ] Analyze hospital and patient management endpoints
- [ ] Check telephony and appointment-related endpoints

## Database Schema Analysis
- [ ] Review supabase_schema_comprehensive.sql
- [ ] Check db/init-safe.sql for initial setup
- [ ] Analyze table relationships and constraints
- [ ] Review RLS (Row Level Security) policies
- [ ] Check enum types and custom functions

## Supabase MCP Server Setup
- [ ] Connect to Supabase MCP server
- [ ] List existing projects
- [ ] Get project details and connection info
- [ ] List current database tables
- [ ] Check existing migrations

## Migration Execution
- [ ] Review migration requirements
- [ ] Apply database schema changes
- [ ] Verify migration success
- [ ] Test critical endpoints after migration

## Verification and Testing
- [ ] Test database connectivity
- [ ] Verify all tables are created correctly
- [ ] Check RLS policies are active
- [ ] Test API endpoints with database operations
- [ ] Document any issues or missing requirements

## Documentation Updates
- [ ] Update memory bank with database changes
- [ ] Document new database requirements
- [ ] Update deployment documentation
- [ ] Create migration history record
